(this["webpackJsonprick-morty-filter"]=this["webpackJsonprick-morty-filter"]||[]).push([[0],{25:function(e,t,r){e.exports={List:"List_List__26ftj",errorMsg:"List_errorMsg__2PGth",resultEnd:"List_resultEnd__3wrlS"}},26:function(e,t,r){e.exports={ResultItem:"ResultItem_ResultItem__3kBz4",statusDot:"ResultItem_statusDot__3K_MI",species:"ResultItem_species__3ZjqI",name:"ResultItem_name__yUjkh"}},27:function(e,t,r){"use strict";var a=r(0),c=r.n(a).a.createContext({closeModal:function(){},openModal:function(){},displayedCharacter:{},setDisplayedCharacter:function(){}});t.a=c},47:function(e,t,r){e.exports={Card:"Card_Card__2Qh-k"}},63:function(e,t,r){},65:function(e,t,r){},88:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=r(28),s=r.n(n),u=(r(63),r(37)),i=r(16),o=r.n(i),l=r(24),h=r(21),f=(r(65),r(66),r(27)),d=r(34),p=r.n(d),j=r(25),b=r.n(j),m=r(26),x=r.n(m),v=r(5),O=function(e){var t;"ALIVE"===e.character.status.toUpperCase()&&(t="green"),"DEAD"===e.character.status.toUpperCase()&&(t="red"),"UNKNOWN"===e.character.status.toUpperCase()&&(t="gray");var r=c.a.useContext(f.a),a=c.a.useCallback((function(t){r.openModal(),r.setDisplayedCharacter(e.character)}),[e,r]);return Object(v.jsxs)("div",{onClick:a,className:x.a.ResultItem,children:[Object(v.jsx)("img",{src:e.character.image,alt:":("}),Object(v.jsx)("div",{className:x.a.name,children:e.character.name}),Object(v.jsxs)("div",{className:x.a.species,children:[Object(v.jsx)("span",{style:{backgroundColor:t},className:x.a.statusDot}),"\xa0",e.character.status,"-",e.character.species]})]})},g=r(47),y=r.n(g),_=c.a.forwardRef((function(e,t){return Object(v.jsx)("div",{ref:t,style:e.styles,className:y.a.Card+" "+e.className,children:e.children})}));var I=function(e){var t=c.a.useRef(),r=c.a.useRef();return Object(a.useEffect)((function(){if(e.resultInfo.next){var a=new IntersectionObserver((function(t){Object(h.a)(t,1)[0].isIntersecting&&e.fetchNextPage()}),{threshold:.5,root:r.current});a.observe(t.current);var c=t.current;return function(){a.unobserve(c)}}}),[e]),Object(v.jsxs)(_,{ref:r,className:b.a.List,children:[0===e.characterList.length&&Object(v.jsx)("div",{className:b.a.errorMsg,children:"No Results Found"}),0!==e.characterList.length&&e.characterList.map((function(e){return Object(v.jsx)(O,{character:e},e.id)})),0!==e.characterList.length&&e.resultInfo.next&&Object(v.jsx)("div",{ref:t,className:b.a.resultEnd,children:"Loading ..."}),0!==e.characterList.length&&!e.resultInfo.next&&Object(v.jsx)("div",{className:b.a.resultEnd,children:"End of Results"})]})},k=r(91).a.Search,L=c.a.lazy((function(){return r.e(3).then(r.bind(null,94))}));var N=function(){var e=c.a.useState({characterList:[],resultInfo:{}}),t=Object(h.a)(e,2),r=t[0],n=t[1],s=c.a.useState(!1),i=Object(h.a)(s,2),d=i[0],j=i[1],b=c.a.useState({}),m=Object(h.a)(b,2),x=m[0],O=m[1],g=c.a.useRef();function y(){return _.apply(this,arguments)}function _(){return(_=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({method:"GET",url:"https://rickandmortyapi.com/api/character/?name=Rick%20Sanchez"});case 2:t=e.sent,n({characterList:t.data.results,resultInfo:{}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("searching",t.target.value),""!==t.target.value){e.next=3;break}return e.abrupt("return",y());case 3:return e.prev=3,e.next=6,p()({method:"GET",url:"https://rickandmortyapi.com/api/character/?name=".concat(t.target.value)});case 6:r=e.sent,n({characterList:r.data.results,resultInfo:r.data.info}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0.message),n({characterList:[],resultInfo:{}});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function R(){return(R=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({method:"GET",url:r.resultInfo.next});case 3:t=e.sent,n((function(e){return{characterList:[].concat(Object(u.a)(e.characterList),Object(u.a)(t.data.results)),resultInfo:t.data.info}})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message),n({characterList:[],resultInfo:{}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function w(){return(w=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearTimeout(g.current),g.current=setTimeout(N.bind(null,t),700);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){y()}),[]),Object(v.jsx)(f.a.Provider,{value:{closeModal:j.bind(null,!1),openModal:j.bind(null,!0),displayedCharacter:x,setDisplayedCharacter:O},children:Object(v.jsxs)("div",{className:"App",children:[d&&Object(v.jsx)(a.Suspense,{fallback:Object(v.jsx)("div",{className:"characterSuspenseText",children:"Loading..."}),children:Object(v.jsx)(L,{})}),Object(v.jsx)("h1",{className:"heading",children:"Rick and Morty Search"}),Object(v.jsx)(k,{onChange:function(e){return w.apply(this,arguments)},placeholder:"Search for Rick n Morty characters",style:{width:300},enterButton:!0}),Object(v.jsx)(I,{fetchNextPage:function(){return R.apply(this,arguments)},characterList:r.characterList,resultInfo:r.resultInfo})]})})};s.a.render(Object(v.jsx)(N,{}),document.querySelector("#root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.45be4e4f.chunk.js.map